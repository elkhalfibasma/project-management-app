{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/user/project-management-app/frontend/project-management-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/api.service\";\nimport * as i3 from \"@angular/common\";\nfunction ProjectDetailPage_div_0_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"Retard: \", ctx_r0.prediction.predicted_delay_days, \" j (\", i0.ɵɵpipeBind2(2, 2, ctx_r0.prediction.confidence * 100, \"1.0-0\"), \"%)\");\n  }\n}\nfunction ProjectDetailPage_div_0_li_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const a_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\\u2022 \", a_r2, \"\");\n  }\n}\nfunction ProjectDetailPage_div_0_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 10)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const t_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r3.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r3.priority);\n  }\n}\nfunction ProjectDetailPage_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"h3\");\n    i0.ɵɵtext(8, \"D\\u00E9tails\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 5)(14, \"h3\");\n    i0.ɵɵtext(15, \"Pr\\u00E9diction retard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ProjectDetailPage_div_0_div_16_Template, 3, 5, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 5)(18, \"h3\");\n    i0.ɵɵtext(19, \"Recommandations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"ul\");\n    i0.ɵɵtemplate(21, ProjectDetailPage_div_0_li_21_Template, 2, 1, \"li\", 7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 5)(23, \"h3\");\n    i0.ɵɵtext(24, \"T\\u00E2ches\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"table\", 8)(26, \"tr\")(27, \"th\");\n    i0.ɵɵtext(28, \"Titre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"th\");\n    i0.ɵɵtext(30, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"th\");\n    i0.ɵɵtext(32, \"Priorit\\u00E9\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(33, ProjectDetailPage_div_0_tr_33_Template, 7, 3, \"tr\", 9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.project.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r0.project.progress, \"%)\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Status: \", ctx_r0.project.status, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Budget: \", ctx_r0.project.budget, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.prediction);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.recs);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.tasks);\n  }\n}\nexport let ProjectDetailPage = /*#__PURE__*/(() => {\n  class ProjectDetailPage {\n    constructor(route, api) {\n      this.route = route;\n      this.api = api;\n      this.tasks = [];\n      this.recs = [];\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.id = Number(_this.route.snapshot.paramMap.get('id'));\n        _this.project = yield _this.api.get(`/projects/${_this.id}`);\n        _this.tasks = yield _this.api.get(`/tasks/by-project/${_this.id}`);\n        _this.prediction = yield _this.api.get(`/ai/predictDelay/${_this.id}`);\n        const r = yield _this.api.get(`/ai/recommendations/${_this.id}`);\n        _this.recs = r.actions || [];\n      })();\n    }\n    static {\n      this.ɵfac = function ProjectDetailPage_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ProjectDetailPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProjectDetailPage,\n        selectors: [[\"app-project-detail\"]],\n        decls: 1,\n        vars: 1,\n        consts: [[\"class\", \"space-y-4\", 4, \"ngIf\"], [1, \"space-y-4\"], [1, \"text-2xl\"], [1, \"text-sm\", \"text-slate-300\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-4\"], [1, \"bg-white/10\", \"p-4\", \"rounded\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"w-full\", \"text-left\"], [\"class\", \"border-t border-white/10\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-t\", \"border-white/10\"]],\n        template: function ProjectDetailPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ProjectDetailPage_div_0_Template, 34, 7, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.project);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i3.DecimalPipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return ProjectDetailPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}