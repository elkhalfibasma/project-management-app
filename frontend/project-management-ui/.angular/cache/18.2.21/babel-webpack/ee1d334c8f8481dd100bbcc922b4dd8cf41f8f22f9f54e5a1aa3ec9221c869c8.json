{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/user/project-management-app/frontend/project-management-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"../services/ws.service\";\nimport * as i3 from \"@angular/common\";\nfunction TasksPage_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 2)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const t_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r1.projectId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r1.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r1.assigneeId);\n  }\n}\nexport let TasksPage = /*#__PURE__*/(() => {\n  class TasksPage {\n    constructor(api, ws) {\n      this.api = api;\n      this.ws = ws;\n      this.list = [];\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.list = yield _this.api.get('/tasks');\n        _this.ws.onTask(m => {\n          if (m?.type === 'created') {/* reload single item server-side in future */}\n          if (m?.type === 'updated') {/* no-op for now */}\n          if (m?.type === 'deleted') {\n            _this.list = _this.list.filter(t => t.id !== m.id);\n          }\n        });\n      })();\n    }\n    static {\n      this.ɵfac = function TasksPage_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TasksPage)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.WsService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TasksPage,\n        selectors: [[\"app-tasks\"]],\n        decls: 11,\n        vars: 1,\n        consts: [[1, \"w-full\", \"text-left\"], [\"class\", \"border-t border-white/10\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-t\", \"border-white/10\"]],\n        template: function TasksPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"table\", 0)(1, \"tr\")(2, \"th\");\n            i0.ɵɵtext(3, \"Projet\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"th\");\n            i0.ɵɵtext(5, \"Titre\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"th\");\n            i0.ɵɵtext(7, \"Statut\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"th\");\n            i0.ɵɵtext(9, \"Assign\\u00E9\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(10, TasksPage_tr_10_Template, 9, 4, \"tr\", 1);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngForOf\", ctx.list);\n          }\n        },\n        dependencies: [i3.NgForOf],\n        encapsulation: 2\n      });\n    }\n  }\n  return TasksPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}